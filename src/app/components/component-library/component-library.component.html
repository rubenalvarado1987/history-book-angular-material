<div class="component-library">
  <!-- Sidebar Navigation for Components -->
  <aside class="components-sidebar" aria-label="Navegaci√≥n de componentes">
    <div class="sidebar-section-header">
      <span class="section-title">üì¶ Componentes</span>
    </div>
    
    <div class="components-nav">
      <button 
        class="component-nav-link"
        (click)="selectedComponent = 'all'"
        [class.active]="selectedComponent === 'all'"
        title="Ver todos los componentes">
        <mat-icon>dashboard</mat-icon>
        <span>Todos</span>
      </button>
      <button 
        *ngFor="let comp of components"
        class="component-nav-link"
        (click)="selectedComponent = comp.id"
        [class.active]="selectedComponent === comp.id"
        [title]="comp.description">
        <mat-icon>{{ comp.icon }}</mat-icon>
        <span>{{ comp.label }}</span>
      </button>
    </div>
  </aside>

  <!-- Main Content Area -->
  <div class="library-content">
    <div class="library-header">
      <h1>üìö HistoryBook</h1>
      <p>Gu√≠a de componentes con mejores pr√°cticas UX para desarrolladores</p>
    </div>

    <!-- Stats Cards Section -->
    <div class="section" *ngIf="selectedComponent === 'all' || selectedComponent === 'stats'">
    <div class="section-header">
      <h2>üìä Tarjetas Estad√≠sticas</h2>
      <p>M√©tricas clave con indicadores de tendencia. Usa en dashboards ejecutivos para KPIs. Cada tarjeta debe tener un prop√≥sito claro y valores comparativos.</p>
    </div>
    <div class="components-grid">
      <app-stats-card
        *ngFor="let variant of statsCardVariants"
        [title]="variant.title"
        [value]="variant.value"
        [changePercent]="variant.changePercent"
        [isPositive]="variant.isPositive"
        [icon]="variant.icon"
        [variant]="variant.variant">
      </app-stats-card>
    </div>
  </div>

  <!-- Chart Cards Section -->
  <div class="section" *ngIf="selectedComponent === 'all' || selectedComponent === 'charts'">
    <div class="section-header">
      <h2>üìà Gr√°ficos</h2>
      <p>Visualizaci√≥n de datos con gr√°ficos interactivos. Ideal para an√°lisis y tendencias. Mant√©n legendas claras y usa colores que contrasten.</p>
    </div>
    <app-chartjs-showcase></app-chartjs-showcase>
  </div>

  <!-- User Cards Section -->
  <div class="section" *ngIf="selectedComponent === 'all' || selectedComponent === 'users'">
    <div class="section-header">
      <h2>üë§ Perfiles de Usuario</h2>
      <p>Tarjetas de perfil con informaci√≥n social. Perfectas para directorios, comentarios o secciones de equipo. Destaca roles y logros principales.</p>
    </div>
    <div class="components-grid users-grid">
      <app-user-card
        *ngFor="let variant of userVariants"
        [name]="variant.name"
        [role]="variant.role"
        [bio]="variant.bio"
        [followers]="variant.followers"
        [following]="variant.following"
        [posts]="variant.posts"
        [avatarColor]="variant.avatarColor">
      </app-user-card>
    </div>
  </div>

  <!-- Alerts Section -->
  <div class="section" *ngIf="selectedComponent === 'all' || selectedComponent === 'alerts'">
    <div class="section-header">
      <h2>üîî Alertas</h2>
      <p>Notificaciones contextuales con niveles de severidad. Coloca en zonas visibles sin bloquear contenido. Usa colores que reflejen urgencia.</p>
    </div>
    <div class="alerts-container">
      <div class="alerts-demo">
        <app-alert-center></app-alert-center>
      </div>

      <aside class="usage-panel" aria-label="C√≥mo usar AlertService">
        <h3>C√≥mo usar AlertService</h3>
        <pre class="code-block"><code [innerText]="alertUsage"></code></pre>
        <p>AlertService es inyectable en cualquier componente y maneja una lista reactiva de alertas.</p>
      </aside>
    </div>
  </div>

  <!-- Badges Section -->
  <div class="section" *ngIf="selectedComponent === 'all' || selectedComponent === 'badges'">
    <div class="section-header">
      <h2>üå† Etiquetas</h2>
      <p>Indicadores compactos de estado y categor√≠as. Usa m√°ximo 2-3 por elemento. Los colores deben ser coherentes en toda la app.</p>
    </div>
    <div class="badges-container">
      <div class="badge-size-group">
        <h4>Small</h4>
        <div class="badge-group">
          <app-badge
            *ngFor="let variant of badgeVariants"
            [label]="variant.label"
            [variant]="variant.variant"
            [size]="'small'"
            [icon]="variant.icon">
          </app-badge>
        </div>
      </div>
      
      <div class="badge-size-group">
        <h4>Medium (Default)</h4>
        <div class="badge-group">
          <app-badge
            *ngFor="let variant of badgeVariants"
            [label]="variant.label"
            [variant]="variant.variant"
            [size]="'medium'"
            [icon]="variant.icon">
          </app-badge>
        </div>
      </div>
      
      <div class="badge-size-group">
        <h4>Large</h4>
        <div class="badge-group">
          <app-badge
            *ngFor="let variant of badgeVariants"
            [label]="variant.label"
            [variant]="variant.variant"
            [size]="'large'"
            [icon]="variant.icon">
          </app-badge>
        </div>
      </div>
    </div>
  </div>

  <!-- Feature Cards Section -->
  <div class="section" *ngIf="selectedComponent === 'all' || selectedComponent === 'features'">
    <div class="section-header">
      <h2>‚ú® Tarjetas de Caracter√≠sticas</h2>
      <p>Resalta beneficios y servicios con dise√±o impactante. Ideal para landing pages. Usa iconos grandes y descripciones concisas.</p>
    </div>
    
    <div class="features-subsection">
      <h3>Vertical Layout</h3>
      <div class="components-grid">
        <app-feature-card
          *ngFor="let variant of featureVariants"
          [icon]="variant.icon"
          [iconColor]="variant.iconColor"
          [title]="variant.title"
          [description]="variant.description"
          [layout]="'vertical'"
          [meta]="variant.meta">
        </app-feature-card>
      </div>
    </div>
    
    <div class="features-subsection">
      <h3>Horizontal Layout</h3>
      <div class="horizontal-grid">
        <app-feature-card
          *ngFor="let variant of featureVariants"
          [icon]="variant.icon"
          [iconColor]="variant.iconColor"
          [title]="variant.title"
          [description]="variant.description"
          [layout]="'horizontal'"
          [meta]="variant.meta">
        </app-feature-card>
      </div>
    </div>
  </div>

  <!-- Avatars Section -->
  <div class="section" *ngIf="selectedComponent === 'all' || selectedComponent === 'avatars'">
    <div class="section-header">
      <h2>üë§ Avatares</h2>
      <p>Representaci√≥n visual de usuarios con soporte para im√°genes, iniciales e iconos. Usa siempre en comentarios y listas de usuarios. Las im√°genes deben ser cuadradas y optimizadas.</p>
    </div>
    
    <div class="avatars-subsection">
      <h4>Small (32px)</h4>
      <div class="avatars-group">
        <app-avatar
          *ngFor="let variant of avatarVariants"
          size="small"
          [initials]="variant.initials || ''"
          [icon]="variant.icon || ''"
          [image]="variant.image || ''"
          [backgroundColor]="variant.color">
        </app-avatar>
      </div>
    </div>

    <div class="avatars-subsection">
      <h4>Medium (48px)</h4>
      <div class="avatars-group">
        <app-avatar
          *ngFor="let variant of avatarVariants"
          size="medium"
          [initials]="variant.initials || ''"
          [icon]="variant.icon || ''"
          [image]="variant.image || ''"
          [backgroundColor]="variant.color">
        </app-avatar>
      </div>
    </div>

    <div class="avatars-subsection">
      <h4>Large (64px)</h4>
      <div class="avatars-group">
        <app-avatar
          *ngFor="let variant of avatarVariants"
          size="large"
          [initials]="variant.initials || ''"
          [icon]="variant.icon || ''"
          [image]="variant.image || ''"
          [backgroundColor]="variant.color">
        </app-avatar>
      </div>
    </div>

    <div class="avatars-subsection">
      <h4>Extra Large (96px)</h4>
      <div class="avatars-group">
        <app-avatar
          *ngFor="let variant of avatarVariants"
          size="xlarge"
          [initials]="variant.initials || ''"
          [icon]="variant.icon || ''"
          [image]="variant.image || ''"
          [backgroundColor]="variant.color">
        </app-avatar>
      </div>
    </div>
  </div>

  <!-- Buttons Section -->
  <div class="section" *ngIf="selectedComponent === 'all' || selectedComponent === 'buttons'">
    <div class="section-header">
      <h2>üí´ Botones</h2>
      <p>Elementos primarios de acci√≥n. Usa una jerarqu√≠a clara: Primary para acciones principales, Secondary para alternativas. Los textos deben ser verbos de acci√≥n.</p>
    </div>

    <div class="buttons-subsection">
      <h4>Small</h4>
      <div class="buttons-group">
        <app-button
          *ngFor="let variant of buttonVariants"
          [label]="variant.label"
          [variant]="variant.variant"
          size="small">
        </app-button>
      </div>
    </div>

    <div class="buttons-subsection">
      <h4>Medium (Default)</h4>
      <div class="buttons-group">
        <app-button
          *ngFor="let variant of buttonVariants"
          [label]="variant.label"
          [variant]="variant.variant"
          size="medium">
        </app-button>
      </div>
    </div>

    <div class="buttons-subsection">
      <h4>Large</h4>
      <div class="buttons-group">
        <app-button
          *ngFor="let variant of buttonVariants"
          [label]="variant.label"
          [variant]="variant.variant"
          size="large">
        </app-button>
      </div>
    </div>

    <div class="buttons-subsection">
      <h4>With Icons</h4>
      <div class="buttons-group">
        <app-button label="Save" variant="success" icon="save"></app-button>
        <app-button label="Delete" variant="danger" icon="delete"></app-button>
        <app-button label="Edit" variant="primary" icon="edit"></app-button>
        <app-button label="Download" variant="secondary" icon="download"></app-button>
      </div>
    </div>
  </div>

  <!-- Progress Section -->
  <div class="section" *ngIf="selectedComponent === 'all' || selectedComponent === 'progress'">
    <div class="section-header">
      <h2>üèÉ Barras de Progreso</h2>
      <p>Visualiza completitud de procesos, descargas o cargas. Siempre muestra el porcentaje. Usa animaci√≥n suave para cambios din√°micos. Para procesos muy largos, considera mostrar eta.</p>
    </div>
    <div class="progress-group">
      <div class="progress-item" *ngFor="let variant of progressVariants">
        <div class="progress-label">{{ variant.label }} ({{ variant.percentage }}%)</div>
        <app-progress
          [percentage]="variant.percentage"
          [variant]="variant.variant">
        </app-progress>
      </div>
    </div>
  </div>

  <!-- Ratings Section -->
  <div class="section" *ngIf="selectedComponent === 'all' || selectedComponent === 'ratings'">
    <div class="section-header">
      <h2>‚≠ê Calificaciones</h2>
      <p>Muestra calificaciones con estrellas y cantidad de rese√±as. Use en productos, rese√±as o contenido. Las estrellas deben ser claramente interactivas si es modificable.</p>
    </div>
    <div class="ratings-group">
      <app-rating
        *ngFor="let variant of ratingVariants"
        [rating]="variant.rating"
        [reviewCount]="variant.reviewCount">
      </app-rating>
    </div>
  </div>

  <!-- Input Fields Section -->
  <div class="section" *ngIf="selectedComponent === 'all' || selectedComponent === 'inputs'">
    <div class="section-header">
      <h2>‚úèÔ∏è Campos de Entrada</h2>
      <p>Inputs flexibles con validaci√≥n y soporte de iconos. Siempre incluye labels descriptivos y textos de ayuda claros. Muestra errores al lado del campo.</p>
    </div>
    <div class="chart-showcase-layout inputs-showcase-layout">
      <div class="chart-area">
        <div class="inputs-grid">
          <app-input-field label="Username" placeholder="Enter your username" variant="primary" prefixIcon="account_circle"></app-input-field>
          <app-input-field label="Email" placeholder="Enter your email" variant="success" prefixIcon="mail"></app-input-field>
          <app-input-field label="Password" placeholder="Enter your password" type="password" variant="warning" prefixIcon="lock"></app-input-field>
          <app-input-field label="Search" placeholder="Search..." type="search" variant="primary" prefixIcon="search"></app-input-field>
          <app-input-field label="Comments" type="textarea" placeholder="Write a comment..." [rows]="4"></app-input-field>
          <app-input-field label="Quantity" type="number" placeholder="0"></app-input-field>
        </div>
        
        <div class="reactive-form-demo">
          <h4>Demo: Formulario Reactivo Moderno</h4>
          <form [formGroup]="demoForm" (ngSubmit)="submitDemo()" class="demo-form">
            <div class="form-row">
              <div class="form-col">
                <app-input-field formControlName="username" label="Username" placeholder="Ej: juanperez" prefixIcon="account_circle" [error]="demoForm.get('username')?.touched && demoForm.get('username')?.invalid ? getErrorMessage('username') : ''"></app-input-field>
              </div>
              <div class="form-col">
                <app-input-field formControlName="email" label="Email" placeholder="Ej: juan@email.com" prefixIcon="mail" [error]="demoForm.get('email')?.touched && demoForm.get('email')?.invalid ? getErrorMessage('email') : ''"></app-input-field>
              </div>
            </div>

            <div class="form-row">
              <div class="form-col">
                <app-input-field formControlName="password" label="Password" placeholder="Min. 6 caracteres" type="password" prefixIcon="lock" [error]="demoForm.get('password')?.touched && demoForm.get('password')?.invalid ? getErrorMessage('password') : ''"></app-input-field>
              </div>
              <div class="form-col">
                <app-input-field formControlName="quantity" label="Cantidad" placeholder="0" type="number" [error]="demoForm.get('quantity')?.touched && demoForm.get('quantity')?.invalid ? getErrorMessage('quantity') : ''"></app-input-field>
              </div>
            </div>

            <div class="form-row full-width">
              <app-input-field formControlName="comments" label="Comentarios" placeholder="Escribe tus comentarios aqu√≠..." type="textarea" [rows]="3"></app-input-field>
            </div>
            
            <div class="form-actions">
              <button mat-raised-button color="primary" type="submit" [disabled]="demoForm.invalid">‚úì Enviar formulario</button>
              <button mat-button type="button" (click)="demoForm.reset()">‚Üª Reset</button>
            </div>
          </form>
        </div>
      </div>

      <aside class="usage-panel" aria-label="C√≥mo usar Inputs">
        <h3>C√≥mo usar Inputs</h3>
        <p>El componente acepta las variantes comunes: `text`, `password`, `textarea`, `search`, `number`. Tambi√©n soporta `prefixIcon` y `suffixIcon`.</p>
        <pre class="code-block"><code [innerText]="inputUsage"></code></pre>
        <h4>Props principales</h4>
        <ul>
          <li><strong>type</strong>: text | password | textarea | search | number</li>
          <li><strong>prefixIcon / suffixIcon</strong>: nombre del icono Material</li>
          <li><strong>rows</strong>: para textarea</li>
          <li><strong>variant</strong>: primary | success | warning | danger</li>
        </ul>
      </aside>
    </div>
  </div>

  <!-- Data Table Section -->
  <div class="section" *ngIf="selectedComponent === 'all' || selectedComponent === 'tables'">
    <div class="section-header">
      <h2>üìã Tabla de Datos</h2>
      <p>Tabla responsive con ordenamiento y filas claras. Usa para datos estructurados. Agrega paginaci√≥n si hay m√°s de 10 filas. Mantener cabecera fija en scroll.</p>
    </div>
    <app-data-table
      [columns]="tableColumns"
      [rows]="tableData">
    </app-data-table>
  </div>

  <!-- Pagination Section -->
  <div class="section" *ngIf="selectedComponent === 'all' || selectedComponent === 'pagination'">
    <div class="section-header">
      <h2>üî¢ Paginaci√≥n</h2>
      <p>Controles de navegaci√≥n entre p√°ginas. Mant√©n estado de p√°gina en URL para permitir compartir. Muestra total de p√°ginas e √≠ndice actual.</p>
    </div>
    <div class="pagination-container">
      <app-pagination
        [currentPage]="currentPage"
        [totalPages]="5"
        (pageChanged)="onPageChanged($event)">
      </app-pagination>
      <p>Current Page: {{ currentPage }}</p>
    </div>
  </div>

  <!-- Stat Badges Section -->
  <div class="section" *ngIf="selectedComponent === 'all' || selectedComponent === 'stat-badges'">
    <div class="section-header">
      <h2>üéØ Badges Estad√≠sticos</h2>
      <p>Mini tarjetas con n√∫meros y contexto. Perfectas para dashboards compactos. Usa para mostrar m√©tricas secundarias al lado de gr√°ficos.</p>
    </div>
    <div class="stat-badges-grid">
      <app-stat-badge
        *ngFor="let variant of statBadgeVariants"
        [label]="variant.label"
        [number]="variant.number"
        [subtitle]="variant.subtitle"
        [icon]="variant.icon"
        [variant]="variant.variant">
      </app-stat-badge>
    </div>
  </div>
  </div>
